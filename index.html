import { useState } from "react";
import { Input } from "@/components/ui/input";
import { Card, CardContent } from "@/components/ui/card";

const scriptData = [
  { objection: "I'm not interested", rebuttal: "If you can just hear us out, My manager can discuss something that will be very beneficial for the business.", optional: "I understand, most of the people that we talked to say the same thing however when they hear what my manager is going to discuss they find it most beneficial." },
  { objection: "Are you selling me something? Is this a sales call? Is this a telemarketing call? Is this a solicitation call?", rebuttal: "I'd prefer to call this as a business partnership call.", optional: "Yes, but you know what, this is very favorable for the business, we will be making sure that you can have a constant flow of customers." },
  { objection: "I'm fully booked at the moment.", rebuttal: "How far are you booked?(Cx answers) Not a problem because we're not gonna ask you to take the cx right away. I just wanna make sure that during your slow season you still have cx. And I believe that you will be able to accommodate new customers after ______ weeks right?", optional: "Don't worry, We're not gonna overwhelm your business with a bunch of customers that you can't handle /// OR /// Excellent! – But I have one question for you: If I were to send you a few customers who are ready to buy right now (need your service/s right now), I know you wouldn’t turn them away? Okay (customer’s name), our program is designed to save you time and increase your profits." },
  { objection: "I am busy", rebuttal: "I understand you are busy since we have called you in your business hours, however my manager asked me to find a reliable business to work with since we are seeing a high volume of searches for your service.", optional: "I understand that you are busy, however if we can put you in front of those people looking for your services this is something you would like to hear about? Right?" },
  { objection: "I only do word of mouth", rebuttal: "Word of mouth is a very powerful tool, and that will continue. We are simply complementing by doing it online.", optional: "The reality is being online now is the new word of mouth." },
  { objection: "Do you personally need my service?", rebuttal: "No it's not for me, it's for the customers in the local area(city) looking for your service online right now and we need someone reliable who can take more customers.", optional: "I am not the customer here...I don't want to mislead you here.. proceed to ROTC..." },
  { objection: "Can you just give my phone number to the customers?", rebuttal: "That is not the way we do the business, what we do here is making sure you are visible online so that customers will directly contact you and not you who will be chasing for customers.", optional: "We can place your number on Google, website, and online directories so my manager needs to know more about your business first." },
  { objection: "Are you selling me customers? Are you selling me leads?", rebuttal: "No worries, we are not selling you leads or customers for you to handle and for you to pay.", optional: "F" },
  { objection: "Wrong number", rebuttal: "Oh okay. What type of business are you in / what type of business do you provide? (Continue with ROTC)." },
  { objection: "Where did you get my number?", rebuttal: "We have a dedicated marketing team which provides us with phone numbers of reliable businesses in the area/ mention their city.", optional: "When you registered your business, your information was stored in the national database. That’s how our marketing team gathered your information." },
  { objection: "What is this all about?", rebuttal: "We are trying to look for a reliable business that we can partner with because what we do is study the number of people going online and searching for your type of service and connect them to businesses like yours." },
  { objection: "Are you from HOMEADVISOR?", rebuttal: "No, I am not from HOMEADVISOR, I AM WITH 411LOCALS." },
  { objection: "Callback", rebuttal: "Calling you back is not a problem but my manager asked me to find a reliable business who we can work with." }
];

export default function ScriptSearch() {
  const [search, setSearch] = useState("");
  const [selectedObjection, setSelectedObjection] = useState(null);

  const filteredRebuttals = scriptData.filter((item) =>
    item.objection.toLowerCase().includes(search.toLowerCase())
  );

  return (
    <div className="p-4 max-w-xl mx-auto">
      <Input
        placeholder="Search for an objection..."
        value={search}
        onChange={(e) => setSearch(e.target.value)}
        className="mb-4"
      />
      {filteredRebuttals.length > 0 ? (
        filteredRebuttals.map((item, index) => (
          <Card key={index} className="mb-2 cursor-pointer" onClick={() => setSelectedObjection(selectedObjection === index ? null : index)}>
            <CardContent className="p-4">
              <p className="font-bold">{item.objection}</p>
              {selectedObjection === index && (
                <div className="mt-2">
                  <p>{item.rebuttal}</p>
                  {item.optional && <p className="text-gray-500 mt-2">{item.optional}</p>}
                </div>
              )}
            </CardContent>
          </Card>
        ))
      ) : (
        <p>No results found.</p>
      )}
    </div>
  );
}
